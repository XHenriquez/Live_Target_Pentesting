# Project 8 - Pentesting Live Targets

Time spent: **4** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:

* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each color is vulnerable to only 2 of the 6 possible exploits. First discover which color has the specific vulnerability, then write a short description of how to exploit it, and finally demonstrate it using screenshots compiled into a GIF.

## Blue

Vulnerability #1: Session Hijacking/Fixation
Description: I used my Chrome browser to login to the blue browser and used the PHP script 'public/hacktools/change_session_id.php' to find the session ID. Then I opened up the blue target on my Firefox browser, without logging in, and used the same PHP script to change the session ID to the one from the Chrome browser. I was then able to login to the blue target from my Firefox browser without having to input a username and password.

<img src="blue_vuln1.gif">

Vulnerability #2: SQL Injection

Description: In the blue target, I clicked on Find a Salesperson and clicked on a random salesperson. I replaced the id in the url with 'id=' OR SLEEP(3)=0--'' which caused the page to wait an additional 3 seconds before responding. The time could be changed to any number. Since it took those additional 3 seconds to respond, this allowed me to know that a more sophisticated SQL injection can be executed. 

<img src="blue_vuln2.gif">

## Green

Vulnerability #1: Cross-Site Scripting

Description: In the green target I clicked on the Contact link, filled it out and in the Feedback box I inserted the following script '<script>alert('Mallory found the XSS!');</script>' before submitting. Then I logged in, clicked on the Feedback link and the script executed.

<img src="green_vuln1.gif">

Vulnerability #2: Username Enumeration

Description: In the green target, I looked at the usernames available then tried to log in with jmonroe99. I get the error "Log in Unsuccessful" in bold black letters. Then I tried a random username that wasn't on the list, foo, and I get the error "Log in Unsuccessful" but this time the letters weren't bold. This makes it easy to spot which usernames are in the database and which aren't.

<img src="green_vuln2.gif">


## Red

Vulnerability #1: Insecure Direct Object Reference

Description: In the red target, I logged in, clicked on the salesperson link and notice the person Testy has a note stating it is not public until Sept 1. I then logged out, clicked on Find a Salesperson, clicked on a random salesperson and changed the id in the url to 10, which corresponds to Testy and shouldnt be accessible by the public. I was able to access Testy on the public site on the red target, however on the green and blue target, this id number will redirect you back to the Find a Salesperson page.

<img src="red_vuln1.gif">

Vulnerability #2: Cross-Site Request Forgery

Description: In the red target, I logged in then ran the HTML file Run_Me from my computer. This file ran in a seperate tab and allowed me to update the information of one of the sales people without the logged in admin being aware unless they refreshed the Salesperson page. 

<img src="red_vuln2.gif">


## Notes

Waiting for the site to reset at midnight and figuring out how to write the script for red vulnerability 2 took quite some time but otherwise this was a fun project.
